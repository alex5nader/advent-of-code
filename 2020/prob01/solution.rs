use std::collections::HashSet;
use itertools::Itertools;

const INPUT: [i32; 200] = [183, 455, 470, 651, 667, 695, 934, 974, 988, 1040, 1044, 1045, 1048, 1052, 1055, 1066, 1071, 1072, 1104, 1109, 1135, 1137, 1141, 1142, 1148, 1180, 1184, 1189, 1200, 1204, 1226, 1227, 1234, 1235, 1238, 1246, 1253, 1254, 1259, 1261, 1262, 1263, 1265, 1266, 1269, 1285, 1290, 1292, 1300, 1322, 1323, 1332, 1348, 1349, 1361, 1365, 1376, 1379, 1380, 1388, 1389, 1393, 1396, 1403, 1405, 1413, 1415, 1416, 1418, 1426, 1429, 1449, 1451, 1453, 1464, 1467, 1478, 1481, 1482, 1483, 1485, 1493, 1494, 1495, 1500, 1508, 1520, 1521, 1531, 1536, 1546, 1554, 1558, 1564, 1565, 1566, 1567, 1573, 1580, 1583, 1586, 1588, 1592, 1593, 1598, 1604, 1609, 1612, 1619, 1620, 1621, 1626, 1633, 1635, 1640, 1646, 1653, 1658, 1665, 1671, 1672, 1678, 1679, 1681, 1684, 1685, 1690, 1691, 1692, 1694, 1696, 1697, 1701, 1703, 1704, 1717, 1722, 1723, 1726, 1727, 1730, 1743, 1745, 1747, 1749, 1750, 1755, 1756, 1766, 1767, 1772, 1775, 1776, 1778, 1790, 1793, 1797, 1799, 1801, 1814, 1818, 1821, 1824, 1825, 1827, 1834, 1838, 1844, 1847, 1848, 1850, 1859, 1862, 1864, 1865, 1872, 1880, 1886, 1891, 1896, 1897, 1910, 1911, 1915, 1917, 1922, 1947, 1949, 1950, 1952, 1954, 1958, 1969, 1976, 1990, 1999, 2000, 2003, 2006, 2009];

fn main() {
    let nums = INPUT.iter().cloned().collect::<HashSet<_>>();

    for x in &nums {
        if nums.contains(&(2020 - x)) {
            println!("{} * {} = {}", x, 2020 - x, x * (2020 - x));
            break;
        }
    }

    for (x, y) in INPUT.iter().cartesian_product(INPUT.iter()) {
        if nums.contains(&(2020 - x - y)) {
            println!("{} * {} * {} = {}", x, y, 2020 - x - y, x * y * (2020 - x - y));
            break;
        }
    }
}
